/*
 * Copyright (c) 2014-2015, The Linux Foundation. All rights reserved.
 *
 * This program is free software; you can redistribute it and/or modify
 * it under the terms of the GNU General Public License version 2 and
 * only version 2 as published by the Free Software Foundation.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 */

#ifndef __QIOMMU_REGS_H__
#define __QIOMMU_REGS_H__

#define QIOMMU_IDR0 0x00000000
#define QIOMMU_IDR1 0x00000004
#define QIOMMU_IDR2 0x00000008
#define QIOMMU_IDR3 0x0000000C
#define QIOMMU_IDR4 0x00000010
#define QIOMMU_IDR5 0x00000014
#define QIOMMU_CR0 0x00000020
#define QIOMMU_CR1 0x00000024
#define QIOMMU_GBPA_L 0x00000028
#define QIOMMU_GBPA_H 0x0000002C
#define QIOMMU_STATUSRO 0x00000038
#define QIOMMU_STRTAB_BASE_L 0x00000040
#define QIOMMU_STRTAB_BASE_H 0x00000044
#define QIOMMU_STRTAB_BASE_CFG 0x00000048
#define QIOMMU_VMTAB_BASE_L 0x00000050
#define QIOMMU_VMTAB_BASE_H 0x00000054
#define QIOMMU_CMDQ_BASE_L 0x00000080
#define QIOMMU_CMDQ_BASE_H 0x00000084
#define QIOMMU_CMDQ_PROD 0x00000088
#define QIOMMU_CMDQ_CONS 0x00000090
#define QIOMMU_EVENTQ_BASE_L 0x000000C0
#define QIOMMU_EVENTQ_BASE_H 0x000000C4
#define QIOMMU_EVENTQ_IRQ_CFG0_L 0x000000D8
#define QIOMMU_EVENTQ_IRQ_CFG0_H 0x000000DC
#define QIOMMU_EVENTQ_IRQ_CFG1 0x000000E0
#define QIOMMU_PRIQ_BASE_L 0x00000100
#define QIOMMU_PRIQ_BASE_H 0x00000104
#define QIOMMU_PRIQ_IRQ_CFG0_L 0x00000118
#define QIOMMU_PRIQ_IRQ_CFG0_H 0x0000011C
#define QIOMMU_PRIQ_IRQ_CFG1 0x00000120
#define QIOMMU_GERROR 0x00000180
#define QIOMMU_GERROR_DATA_0 0x00000188
#define QIOMMU_GERROR_DATA_1 0x0000018C
#define QIOMMU_GERROR_DATA_2 0x00000190
#define QIOMMU_GERROR_DATA_3 0x00000194
#define QIOMMU_GERROR_IRQ_CFG0_L 0x000001A0
#define QIOMMU_GERROR_IRQ_CFG0_H 0x000001A4
#define QIOMMU_GERROR_IRQ_CFG1 0x000001A8
#define QIOMMU_GATOS_SID_L 0x00000200
#define QIOMMU_GATOS_ADDR_L 0x00000208
#define QIOMMU_GATOS_ADDR_H 0x0000020C
#define QIOMMU_GATOS_PAR_L 0x00000210
#define QIOMMU_GATOS_PAR_H 0x00000214
#define QIOMMU_VATOS_SEL 0x00000218
#define QIOMMU_EVENTQ_PROD 0x000100C8
#define QIOMMU_EVENTQ_CONS 0x000100D0
#define QIOMMU_PRIQ_PROD 0x00010108
#define QIOMMU_PRIQ_CONS 0x00010110

#define IDR0__ST_LEVEL__M 0x18000000
#define IDR0__ST_LEVEL__S 27
#define IDR0__TERM_MODEL__M 0x04000000
#define IDR0__TERM_MODEL__S 26
#define IDR0__STALL_MODEL__M 0x03000000
#define IDR0__STALL_MODEL__S 24
#define IDR0__HAD__M 0x00800000
#define IDR0__HAD__S 23
#define IDR0__TTENDIAN__M 0x00600000
#define IDR0__TTENDIAN__S 21
#define IDR0__VATOS__M 0x00100000
#define IDR0__VATOS__S 20
#define IDR0__CD2L__M 0x00080000
#define IDR0__CD2L__S 19
#define IDR0__V7S__M 0x00040000
#define IDR0__V7S__S 18
#define IDR0__VMW__M 0x00020000
#define IDR0__VMW__S 17
#define IDR0__PRI__M 0x00010000
#define IDR0__PRI__S 16
#define IDR0__ATOS__M 0x00008000
#define IDR0__ATOS__S 15
#define IDR0__SEV__M 0x00004000
#define IDR0__SEV__S 14
#define IDR0__MSI__M 0x00002000
#define IDR0__MSI__S 13
#define IDR0__PERFCTRS__M 0x00000800
#define IDR0__PERFCTRS__S 11
#define IDR0__ATS__M 0x00000400
#define IDR0__ATS__S 10
#define IDR0__HYP__M 0x00000200
#define IDR0__HYP__S 09
#define IDR0__HTTU__M 0x000000C0
#define IDR0__HTTU__S 06
#define IDR0__BTM__M 0x00000020
#define IDR0__BTM__S 05
#define IDR0__VMID16__M 0x00000008
#define IDR0__VMID16__S 03
#define IDR0__LPAE__M 0x00000004
#define IDR0__LPAE__S 02
#define IDR0__S1P__M 0x00000002
#define IDR0__S1P__S 01
#define IDR0__S2P__M 0x00000001
#define IDR0__S2P__S 00

#define IDR1__TABLES_PRESET__M 0x40000000
#define IDR1__TABLES_PRESET__S 30
#define IDR1__QUEUES_PRESET__M 0x20000000
#define IDR1__QUEUES_PRESET__S 29
#define IDR1__REL__M 0x10000000
#define IDR1__REL__S 28
#define IDR1__ATTR_TYPES_OVE__M 0x08000000
#define IDR1__ATTR_TYPES_OVE__S 27
#define IDR1__ATTR_PERM_OVR__M 0x04000000
#define IDR1__ATTR_PERM_OVR__S 26
#define IDR1__CMDQS__M 0x03E00000
#define IDR1__CMDQS__S 21
#define IDR1__EVQS__M 0x001F0000
#define IDR1__EVQS__S 16
#define IDR1__PRIQS__M 0x0000F800
#define IDR1__PRIQS__S 11
#define IDR1__SSIDSIZE__M 0x000007C0
#define IDR1__SSIDSIZE__S 06
#define IDR1__SIDSIZE__M 0x0000003F
#define IDR1__SIDSIZE__S 00

#define IDR2__GRANULE__M 0x000000FF
#define IDR2__GRANULE__S 00

#define IDR3__TLB__M 0xFFFFFFFF
#define IDR3__TLB__S 00

#define IDR4__IMPDEF__M 0xFFFFFFFE
#define IDR4__IMPDEF__S 01
#define IDR4__SSDR_RST_STATE__M 0x00000001
#define IDR4__SSDR_RST_STATE__S 00

#define IDR5__UAS__M 0x00000FC0
#define IDR5__UAS__S 06
#define IDR5__OAS__M 0x00000038
#define IDR5__OAS__S 03
#define IDR5__IAS__M 0x00000007
#define IDR5__IAS__S 00

#define CR0__UPDATE__M 0x80000000
#define CR0__UPDATE__S 31
#define CR0__VMW__M 0x00000E00
#define CR0__VMW__S 09
#define CR0__PTM__M 0x00000080
#define CR0__PTM__S 07
#define CR0__RECINVSID__M 0x00000040
#define CR0__RECINVSID__S 06
#define CR0__E2H__M 0x00000020
#define CR0__E2H__S 05
#define CR0__ATSCHK__M 0x00000010
#define CR0__ATSCHK__S 04
#define CR0__CMDEN__M 0x00000008
#define CR0__CMDEN__S 03
#define CR0__EVQEN__M 0x00000004
#define CR0__EVQEN__S 02
#define CR0__PRIQN__M 0x00000002
#define CR0__PRIQN__S 01
#define CR0__QIOMMUEN__M 0x00000001
#define CR0__QIOMMUEN__S 00

#define CR1__UPDATE__M 0x80000000
#define CR1__UPDATE__S 31
#define CR1__TABLE_SH__M 0x00000C00
#define CR1__TABLE_SH__S 10
#define CR1__TABLE_OC__M 0x00000300
#define CR1__TABLE_OC__S 8
#define CR1__TABLE_IC__M 0x000000C0
#define CR1__TABLE_IC__S 06
#define CR1__QUEUE_SH__M 0x00000030
#define CR1__QUEUE_SH__S 04
#define CR1__QUEUE_OC__M 0x0000000C
#define CR1__QUEUE_OC__S 02
#define CR1__QUEUE_IC__M 0x00000003
#define CR1__QUEUE_IC__S 00

#define GBPA_L__ABORT__M 0x00100000
#define GBPA_L__ABORT__S 20
#define GBPA_L__INSTCFG__M 0x000C0000
#define GBPA_L__INSTCFG__S 18
#define GBPA_L__PRIVCFG__M 0x00030000
#define GBPA_L__PRIVCFG__S 16
#define GBPA_L__SHCFG__M 0x00003000
#define GBPA_L__SHCFG__S 12
#define GBPA_L__TRCFG__M 0x00000C00
#define GBPA_L__TRCFG__S 10
#define GBPA_L__RACFG__M 0x00000300
#define GBPA_L__RACFG__S 8
#define GBPA_L__WACFG__M 0x000000C0
#define GBPA_L__WACFG__S 06
#define GBPA_L__MTCFG__M 0x00000010
#define GBPA_L__MTCFG__S 04
#define GBPA_L__MEMATTR__M 0x0000000F
#define GBPA_L__MEMATTR__S 00

#define GBPA_H__UPDATE__M 0x80000000
#define GBPA_H__UPDATE__S 31

#define STATUSRO__DORMANT__M 0x00000001
#define STATUSRO__DORMANT__S 00

#define STRTAB_BASE_L__ADDR_31_5__M 0xFFFFFFE0
#define STRTAB_BASE_L__ADDR_31_5__S 05

#define STRTAB_BASE_H__RA__M 0x40000000
#define STRTAB_BASE_H__RA__S 30
#define STRTAB_BASE_H__ADDR_47_32__M 0x0000FFFF
#define STRTAB_BASE_H__ADDR_47_32__S 00

#define STRTAB_BASE_CFG__FMT__M 0x00030000
#define STRTAB_BASE_CFG__FMT__S 16
#define STRTAB_BASE_CFG__SPLIT__M 0x000007C0
#define STRTAB_BASE_CFG__SPLIT__S 06
#define STRTAB_BASE_CFG__LOG2SIZE__M 0x0000003F
#define STRTAB_BASE_CFG__LOG2SIZE__S 00

#define VMTAB_BASE_L__ADDR_31_5__M 0xFFFFFFE0
#define VMTAB_BASE_L__ADDR_31_5__S 05
#define VMTAB_BASE_L__LOG2SIZE__M 0x0000001F
#define VMTAB_BASE_L__LOG2SIZE__S 00

#define VMTAB_BASE_H__RA__M 0x40000000
#define VMTAB_BASE_H__RA__S 30
#define VMTAB_BASE_H__ADDR_47_32__M 0x0000FFFF
#define VMTAB_BASE_H__ADDR_47_32__S 00

#define CMDQ_BASE_L__ADDR_31_5__M 0xFFFFFFE0
#define CMDQ_BASE_L__ADDR_31_5__S 05
#define CMDQ_BASE_L__LOG2SIZE__M 0x0000001F
#define CMDQ_BASE_L__LOG2SIZE__S 00

#define CMDQ_BASE_H__RA__M 0x40000000
#define CMDQ_BASE_H__RA__S 30
#define CMDQ_BASE_H__ADDR_47_32__M 0x0000FFFF
#define CMDQ_BASE_H__ADDR_47_32__S 00

#define CMDQ_PROD__WR_WRAP__M 0x00080000
#define CMDQ_PROD__WR_WRAP__S 19
#define CMDQ_PROD__WR__M 0x0007FFFF
#define CMDQ_PROD__WR__S 00

#define CMDQ_CONS__EF__M 0x80000000
#define CMDQ_CONS__EF__S 31
#define CMDQ_CONS__ERR__M 0x7F000000
#define CMDQ_CONS__ERR__S 24
#define CMDQ_CONS__RD_WRAP__M 0x00080000
#define CMDQ_CONS__RD_WRAP__S 19
#define CMDQ_CONS__RD__M 0x0007FFFF
#define CMDQ_CONS__RD__S 00

#define EVENTQ_BASE_L__ADDR_31_5__M 0xFFFFFFE0
#define EVENTQ_BASE_L__ADDR_31_5__S 05
#define EVENTQ_BASE_L__LOG2SIZE__M 0x0000001F
#define EVENTQ_BASE_L__LOG2SIZE__S 00

#define EVENTQ_BASE_H__WA__M 0x40000000
#define EVENTQ_BASE_H__WA__S 30
#define EVENTQ_BASE_H__ADDR_47_32__M 0x0000FFFF
#define EVENTQ_BASE_H__ADDR_47_32__S 00

#define EVENTQ_IRQ_CFG0_L__ADDR_31_2__M 0xFFFFFFFC
#define EVENTQ_IRQ_CFG0_L__ADDR_31_2__S 02
#define EVENTQ_IRQ_CFG0_L__ENABLE__M 0x00000001
#define EVENTQ_IRQ_CFG0_L__ENABLE__S 00

#define EVENTQ_IRQ_CFG0_H__UPDATE__M 0x80000000
#define EVENTQ_IRQ_CFG0_H__UPDATE__S 31
#define EVENTQ_IRQ_CFG0_H__SH__M 0x30000000
#define EVENTQ_IRQ_CFG0_H__SH__S 28
#define EVENTQ_IRQ_CFG0_H__MEMATTR__M 0x0F000000
#define EVENTQ_IRQ_CFG0_H__MEMATTR__S 24
#define EVENTQ_IRQ_CFG0_H__ADDR_47_32__M 0x0000FFFF
#define EVENTQ_IRQ_CFG0_H__ADDR_47_32__S 00

#define EVENTQ_IRQ_CFG1__MSI_PAYLOAD__M 0xFFFFFFFF
#define EVENTQ_IRQ_CFG1__MSI_PAYLOAD__S 00

#define GERROR__EF__M 0x80000000
#define GERROR__EF__S 31
#define GERROR__EFACK__M 0x40000000
#define GERROR__EFACK__S 30

#define GERROR_DATA_0__CLMULTI__M 0x80000000
#define GERROR_DATA_0__CLMULTI__S 31
#define GERROR_DATA_0__CFGMULTI__M 0x40000000
#define GERROR_DATA_0__CFGMULTI__S 30
#define GERROR_DATA_0__EVENTQ_ERR__M 0x02000000
#define GERROR_DATA_0__EVENTQ_ERR__S 25
#define GERROR_DATA_0__MSI_ERR__M 0x01000000
#define GERROR_DATA_0__MSI_ERR__S 24
#define GERROR_DATA_0__CAF__M 0x00800000
#define GERROR_DATA_0__CAF__S 23
#define GERROR_DATA_0__F_UUT__M 0x00400000
#define GERROR_DATA_0__F_UUT__S 22
#define GERROR_DATA_0__E_MSI_ERR__M 0x00200000
#define GERROR_DATA_0__E_MSI_ERR__S 21
#define GERROR_DATA_0__E_PRIQ_ERR__M 0x00100000
#define GERROR_DATA_0__E_PRIQ_ERR__S 20
#define GERROR_DATA_0__E_CMDQ_ERR__M 0x00080000
#define GERROR_DATA_0__E_CMDQ_ERR__S 19
#define GERROR_DATA_0__F_TLB_CONFLICT__M 0x00040000
#define GERROR_DATA_0__F_TLB_CONFLICT__S 18
#define GERROR_DATA_0__F_PERMISSION__M 0x00020000
#define GERROR_DATA_0__F_PERMISSION__S 17
#define GERROR_DATA_0__F_ACCESS__M 0x00010000
#define GERROR_DATA_0__F_ACCESS__S 16
#define GERROR_DATA_0__F_ADDR_SIZE__M 0x00008000
#define GERROR_DATA_0__F_ADDR_SIZE__S 15
#define GERROR_DATA_0__F_TRANSLATION__M 0x00004000
#define GERROR_DATA_0__F_TRANSLATION__S 14
#define GERROR_DATA_0__F_WALK_EABT__M 0x00002000
#define GERROR_DATA_0__F_WALK_EABT__S 13
#define GERROR_DATA_0__C_BAD_CD__M 0x00001000
#define GERROR_DATA_0__C_BAD_CD__S 12
#define GERROR_DATA_0__F_CD_FETCH__M 0x00000800
#define GERROR_DATA_0__F_CD_FETCH__S 11
#define GERROR_DATA_0__C_BAD_SUBSTREAMID__M 0x00000400
#define GERROR_DATA_0__C_BAD_SUBSTREAMID__S 10
#define GERROR_DATA_0__C_BAD_VMTE__M 0x00000200
#define GERROR_DATA_0__C_BAD_VMTE__S 09
#define GERROR_DATA_0__F_VMTE_FETCH__M 0x00000100
#define GERROR_DATA_0__F_VMTE_FETCH__S 08
#define GERROR_DATA_0__C_BAD_VMIDX__M 0x00000080
#define GERROR_DATA_0__C_BAD_VMIDX__S 07
#define GERROR_DATA_0__F_TRANSL_FORBIDDEN__M 0x00000040
#define GERROR_DATA_0__F_TRANSL_FORBIDDEN__S 06
#define GERROR_DATA_0__F_STREAM_DISABLED__M 0x00000020
#define GERROR_DATA_0__F_STREAM_DISABLED__S 05
#define GERROR_DATA_0__F_BAD_AT_REQ__M 0x00000010
#define GERROR_DATA_0__F_BAD_AT_REQ__S 04
#define GERROR_DATA_0__C_BAD_STREAMID__M 0x00000004
#define GERROR_DATA_0__C_BAD_STREAMID__S 02
#define GERROR_DATA_0__F_STE_FETCH__M 0x00000002
#define GERROR_DATA_0__F_STE_FETCH__S 01
#define GERROR_DATA_0__C_BAD_STE__M 0x00000001
#define GERROR_DATA_0__C_BAD_STE__S 00

#define GERROR_DATA_1__FADDR_31_0__M 0xFFFFFFFF
#define GERROR_DATA_1__FADDR_31_0__S 00

#define GERROR_DATA_2__FADDR_63_32__M 0xFFFFFFFF
#define GERROR_DATA_2__FADDR_63_32__S 00

#define GERROR_DATA_3__ALEN__M 0x0001F000
#define GERROR_DATA_3__ALEN__S 12
#define GERROR_DATA_3__NSATTR__M 0x00000020
#define GERROR_DATA_3__NSATTR__S 05
#define GERROR_DATA_3__IND__M 0x00000008
#define GERROR_DATA_3__IND__S 03
#define GERROR_DATA_3__PNU__M 0x00000004
#define GERROR_DATA_3__PNU__S 02
#define GERROR_DATA_3__WNR__M 0x00000002
#define GERROR_DATA_3__WNR__S 01
#define GERROR_DATA_3__NESTED__M 0x00000001
#define GERROR_DATA_3__NESTED__S 00

#define GERROR_IRQ_CFG0_L__ADDR_31_2__M 0xFFFFFFFC
#define GERROR_IRQ_CFG0_L__ADDR_31_2__S 02
#define GERROR_IRQ_CFG0_L__ENABLE__M 0x00000001
#define GERROR_IRQ_CFG0_L__ENABLE__S 00

#define GERROR_IRQ_CFG0_H__UPDATE__M 0x80000000
#define GERROR_IRQ_CFG0_H__UPDATE__S 31
#define GERROR_IRQ_CFG0_H__SH__M 0x30000000
#define GERROR_IRQ_CFG0_H__SH__S 28
#define GERROR_IRQ_CFG0_H__MEMATTR__M 0x0F000000
#define GERROR_IRQ_CFG0_H__MEMATTR__S 24
#define GERROR_IRQ_CFG0_H__ADDR_47_32__M 0x0000FFFF
#define GERROR_IRQ_CFG0_H__ADDR_47_32__S 00

#define GATOS_SID_L__STREAMID__M 0xFFFFFFFF
#define GATOS_SID_L__STREAMID__S 00

#define GATOS_ADDR_L__ADDR_31_12__M 0xFFFFF000
#define GATOS_ADDR_L__ADDR_31_12__S 12
#define GATOS_ADDR_L__TYPE__M 0x00000C00
#define GATOS_ADDR_L__TYPE__S 10
#define GATOS_ADDR_L__PNU__M 0x00000200
#define GATOS_ADDR_L__PNU__S 09
#define GATOS_ADDR_L__RNW__M 0x00000100
#define GATOS_ADDR_L__RNW__S 08
#define GATOS_ADDR_L__RUN__M 0x00000001
#define GATOS_ADDR_L__RUN__S 00

#define GATOS_ADDR_H__ADDR_49_32__M 0x0003FFFF
#define GATOS_ADDR_H__ADDR_49_32__S 00

#define GATOS_PAR_L__ADDR__M 0xFFFF0000
#define GATOS_PAR_L__ADDR__S 16
#define GATOS_PAR_L__FIELD__M 0x0000FF80
#define GATOS_PAR_L__FIELD__S 07
#define GATOS_PAR_L__SHORC__M 0x00000040
#define GATOS_PAR_L__SHORC__S 06
#define GATOS_PAR_L__RAORC__M 0x00000020
#define GATOS_PAR_L__RAORC__S 05
#define GATOS_PAR_L__WAORC__M 0x00000010
#define GATOS_PAR_L__WAORC__S 04
#define GATOS_PAR_L__TRORC__M 0x00000008
#define GATOS_PAR_L__TRORC__S 03
#define GATOS_PAR_L__TG__M 0x00000006
#define GATOS_PAR_L__TG__S 01
#define GATOS_PAR_L__FAULT__M 0x00000001
#define GATOS_PAR_L__FAULT__S 00

#define GATOS_PAR_H__MEMATTR__M 0xFF000000
#define GATOS_PAR_H__MEMATTR__S 24
#define GATOS_PAR_H__ADDR__M 0x0000FFFF
#define GATOS_PAR_H__ADDR__S 00

#define EVENTQ_PROD__OVFLG__M 0x80000000
#define EVENTQ_PROD__OVFLG__S 31
#define EVENTQ_PROD__WR_WRAP__M 0x00080000
#define EVENTQ_PROD__WR_WRAP__S 19
#define EVENTQ_PROD__WR__M 0x0007FFFF
#define EVENTQ_PROD__WR__S 00

#define EVENTQ_CONS__OVACKFLG__M 0x80000000
#define EVENTQ_CONS__OVACKFLG__S 31
#define EVENTQ_CONS__RD_WRAP__M 0x00080000
#define EVENTQ_CONS__RD_WRAP__S 19
#define EVENTQ_CONS__RD__M 0x0007FFFF
#define EVENTQ_CONS__RD__S 00

#define PRIQ_PROD__OVFLG__M 0x80000000
#define PRIQ_PROD__OVFLG__S 31
#define PRIQ_PROD__WR_WRAP__M 0x00080000
#define PRIQ_PROD__WR_WRAP__S 19
#define PRIQ_PROD__WR__M 0x0007FFFF
#define PRIQ_PROD__WR__S 00

#define PRIQ_CONS__OVACKFLG__M 0x80000000
#define PRIQ_CONS__OVACKFLG__S 31
#define PRIQ_CONS__RD_WRAP__M 0x00080000
#define PRIQ_CONS__RD_WRAP__S 19
#define PRIQ_CONS__RD__M 0x0007FFFF
#define PRIQ_CONS__RD__S 00


/* IMPDEF registers - Only add to these as needed */
#define QIOMMU_CFG_CACHE_CR 0x00033000
#define QIOMMU_TLBCR 0x00033024

#define CFG_CACHE_CR__CC_EN__M 0x00000001
#define CFG_CACHE_CR__CC_EN__S 0

#define TLBCR__POR 0x00000200
#define TLBCR__TLB_EN__M 0x00000001
#define TLBCR__TLB_EN__S 0

#endif /* __QIOMMU_REGS_H__ */
